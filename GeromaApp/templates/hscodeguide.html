<!DOCTYPE html>
<html lang="en">

  {% load static %}

  <title>GEROMA - HS CODES</title>

  {% include 'includes/head.html'%}

  <style>
    /* Custom styles for the table and headers */
    .table-white-text {
      color: #fff;
    }
  
    .table-white-text th {
      font-weight: bold;
      font-size: 18px;
    }
  
    .header-large-font {
      font-size: 20px;
    }
  
    /* Adjust table responsiveness for smaller screens */
    @media (max-width: 768px) {
      .table-responsive {
        overflow-x: auto;
      }
    }

    /* Custom styles for the stylish input group */
    .stylish-input-group {
      border: 1px solid #ccc;
      border-radius: 30px;
      overflow: hidden;
      margin-top: 15px;
    }

    .stylish-input-group .form-control {
      border: 0;
      box-shadow: none;
      border-radius: 30px;
    }

    .stylish-input-group .btn {
      border: 0;
      background: none;
      border-radius: 0 30px 30px 0;
    }

    .stylish-input-group .btn:focus {
      outline: none;
    }

    .stylish-input-group .btn:hover {
      background-color: #000;
    }

    /* Custom styles for the pagination */
    .pagination {
      justify-content: center;
      margin-top: 15px;
    }
  
    .page-item {
      border-radius: 30px;
      margin: 5px;
    }
  
    .page-link {
      border: 1px solid #ccc;
      border-radius: 30px;
      color: #333;
      padding: 8px 15px;
    }
  
    .page-item.active .page-link {
      background-color: black;
      color: white;
      border-color: black;
    }
  
    .page-link:hover {
      background-color: #e6f5ff;
    }
  
    .page-item.disabled .page-link {
      pointer-events: none;
      background-color: #f2f2f2;
      color: #bbb;
    }
  </style>
  
<body>
  {% include 'includes/header.html' %}

    <!-- ======= Hero Section ======= -->
    <section id="hero" class="d-flex justify-cntent-center align-items-center">

    <div class="wave">

        <svg width="1920px" height="215px" viewBox="0 0 1920 215" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Apple-TV" transform="translate(0.000000, -402.000000)" fill="#FFFFFF">
              <path d="M0,439.134243 C175.04074,464.89273 327.944386,477.771974 458.710937,477.771974 C654.860765,477.771974 870.645295,442.632362 1205.9828,410.192501 C1429.54114,388.565926 1667.54687,411.092417 1920,477.771974 L1920,667 L1017.15166,667 L0,667 L0,439.134243 Z" id="Path"></path>
            </g>
          </g>
        </svg>

    </div>

    <div id="heroCarousel" data-bs-interval="5000" class="container carousel carousel-fade" data-bs-ride="carousel">
      <div class="carousel-item active">
        <div class="carousel-container">
          <img src="{% static 'assets/img/geromalogoicon.png' %}" style="border-radius: 2rem;" alt="">
          <h2 class="animate__animated animate__fadeInDown">HS CODES GUIDE</h2>
        </div>
      </div>
    </div>
    </section>
    <!-- End Hero -->

    <!-- Main -->
    <main id="main">

      <section id="history" class="history section-bg" style="background: linear-gradient(rgba(5, 87, 158, 0.9), rgba(5, 87, 158, 0.6)), url('{% static 'assets/img/about1.jpg' %}') center/cover no-repeat; color: #fff;">
        <div class="container" data-aos="fade-up">

          <div class="section-title">
            <h2 class="text-white">HS Code Guide</h2>
          </div>

          <!-- Search Input Row -->
          <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8">
              <div class="input-group stylish-input-group mb-3">
                <input type="text" class="form-control" id="searchInput" onvaluechange="searchTable()" placeholder="Search for HS Code...">
                <div class="input-group-append">
                  <button class="btn btn-outline-dark btn-hover-light" type="button" onclick="searchTable()"><strong>Search</strong></button>
                </div>
              </div>
            </div>
            <div class="col-md-2"></div>
          </div>

          <nav aria-label="Page navigation">
            <ul class="pagination">
              <!-- <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li> -->
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"><a class="page-link" href="#">4</a></li>
              <li class="page-item"><a class="page-link" href="#">5</a></li>
              <li class="page-item"><a class="page-link" href="#">6</a></li>
              <li class="page-item"><a class="page-link" href="#">7</a></li>
              <li class="page-item"><a class="page-link" href="#">8</a></li>
              <li class="page-item"><a class="page-link" href="#">9</a></li>
              <!-- <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li> -->
            </ul>
          </nav>

          <div class="table-responsive">
            <table class="table table-bordered table-white-text" id="dataTable">
              <thead>
                <tr>
                  <th class="header-large-font">Heading</th>
                  <th class="header-large-font">HSCode</th>
                  <th class="header-large-font">Description</th>
                  <th class="header-large-font">Unit Of Quantity</th>
                  <th class="header-large-font">Rate</th>
                </tr>
              </thead>
              <tbody>
                <!-- Data rows will be dynamically added here -->
                {% for hscode in hscodes %}
                <tr>
                  <td>{{ hscode.heading }}</td>
                  <td>{{ hscode.hs_code }}</td>
                  <td>{{ hscode.description }}</td>
                  <td>{{ hscode.unit_of_quantity }}</td>
                  <td>{{ hscode.rate }}</td>
                </tr>
                {% endfor %}
                <!-- Add more rows as needed -->
              </tbody>
            </table>
          </div>

          <nav aria-label="Page navigation">
            <ul class="pagination">
              <!-- <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li> -->
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"><a class="page-link" href="#">4</a></li>
              <li class="page-item"><a class="page-link" href="#">5</a></li>
              <li class="page-item"><a class="page-link" href="#">6</a></li>
              <li class="page-item"><a class="page-link" href="#">7</a></li>
              <li class="page-item"><a class="page-link" href="#">8</a></li>
              <li class="page-item"><a class="page-link" href="#">9</a></li>
              <!-- <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li> -->
            </ul>
          </nav>

        </div>
      </section>

      <!-- ======= Clients Section ======= -->
      {% include 'includes/clients.html' %}
      <!-- End Clients Section -->

    </main>
    <!-- End #main -->

  {% include 'includes/footer.html' %}

  <script>
    // Create a function to build a search index from the table data
      function buildSearchIndex() {
        const table = document.getElementById('dataTable');
        const rows = table.getElementsByTagName('tr');
        const index = [];

        for (let i = 1; i < rows.length; i++) {
          const rowData = rows[i].getElementsByTagName('td');
          const searchableContent = [];

          for (let j = 0; j < rowData.length; j++) {
            const cellData = rowData[j];
            if (cellData) {
              const textValue = cellData.textContent || cellData.innerText;
              searchableContent.push(textValue.toLowerCase());
            }
          }

          index.push(searchableContent.join(' '));
        }

        return index;
      }

      // Function to perform the search operation
      function searchTable() {
        const input = document.getElementById('searchInput').value.toLowerCase();
        const index = buildSearchIndex();
        const table = document.getElementById('dataTable');
        const rows = table.getElementsByTagName('tr');

        for (let i = 1; i < rows.length; i++) {
          const found = index[i - 1].indexOf(input) > -1;
          rows[i].style.display = found ? '' : 'none';
        }
      }

      // Add event listener to the search input to trigger searchTable on "input"
      document.getElementById('searchInput').addEventListener('input', searchTable);

  </script>

  <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
  <script>
    $(document).ready(function () {
      // Initially, show the first page of the table and mark it as active
      showPage(1);
      markPageActive(1);

      // Event listener for pagination clicks
      $('.page-link').click(function (event) {
        event.preventDefault();
        const page = $(this).text();
        showPage(page);
        markPageActive(page);
      });

      // Function to show the selected page of the table
      function showPage(page) {
        // Hide all table rows
        $('tbody tr').hide();

        // Show the rows for the selected page
        const startIndex = (page - 1) * 1000; // Assuming 1000 rows per page
        const endIndex = startIndex + 1000;
        $('tbody tr').slice(startIndex, endIndex).show();
      }

      // Function to mark the selected page as active
      function markPageActive(page) {
        $('.page-link').removeClass('active'); // Remove active class from all links
        $(`.page-link:contains('${page}')`).addClass('active'); // Add active class to the clicked link
      }
    });
  </script>

</body>
</html>